<!DOCTYPE html>
<html>
<head>
    <title>Write a Post</title>
</head>
<body>

<h2>Write a New Post</h2>

<form id="postForm" onsubmit="submitForm(event)">
    <label for="name">Name:</label><br>
    <input type="text" id="name" name="name"><br>

    <label for="title">Title:</label><br>
    <input type="text" id="title" name="title"><br>

    <label for="content">Content:</label><br>
    <textarea id="content" name="content"></textarea><br>

    <input type="submit" value="Submit">
</form> 

<script src="//cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
function submitForm(event) {
  event.preventDefault();
  
  var form = document.getElementById("postForm");
  var formData = new FormData(form);
  
  axios.post("/board/post", Object.fromEntries(formData))
    .then(function(response) {
      console.log(response.data);
      alert("Post created successfully");
      form.reset();
    })
    .catch(function(error) {
      console.error(error.response.data.error);
      alert("Error creating post");
    });
}
</script>

</body>
</html>
